box: wercker/nodejs
build:
  steps:
    - script:
        name: Install Bower
        code: sudo npm install -g bower
    - script:
        name: Fetch Dependencies
        code: make install
    - script:
        name: Install Grunt
        code: sudo npm install -g grunt-cli
    - npm-test

deploy:
  steps:
    - script:
        name: Build Assets
        code: grunt
    - script:
        name: Commit Assets
        code: |
          git add .
          git commit -am 'asset compile'
    - heroku-deploy:
        key-name: heroku-production
